/**
 * Coherosphere CI — Orange Accent Edition (stable)
 * Fixes dark-background banding + improves inactive button contrast,
 * inline code coloring, and general polish.
 *
 * Drop this file at: docs.coherosphere.io/src/css/custom.css
 */

/* ──────────────────────────────────────────────────────────────
   Base tokens (light mode)
   ──────────────────────────────────────────────────────────── */
:root {
  --ifm-color-primary: #f97316;           /* orange-500 */
  --ifm-color-primary-dark: #ea580c;      /* orange-600 */
  --ifm-color-primary-darker: #c2410c;    /* orange-700 */
  --ifm-color-primary-darkest: #9a3412;   /* orange-800 */
  --ifm-color-primary-light: #fb923c;     /* orange-400 */
  --ifm-color-primary-lighter: #fdba74;   /* orange-300 */
  --ifm-color-primary-lightest: #fed7aa;  /* orange-200 */

  --ifm-font-family-base: ui-sans-serif, system-ui, -apple-system, Segoe UI,
    Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --ifm-heading-font-weight: 700;
  --ifm-code-font-size: 92%;
  --ifm-line-height-base: 1.6;

  --cs-radius: 14px;
  --cs-shadow: 0 8px 28px rgba(0,0,0,.12), 0 2px 6px rgba(0,0,0,.08);

  --cs-bg: #ffffff;
  --cs-muted: #f9fafb;
  --cs-card: #ffffff;
  --cs-border: #e5e7eb;

  --docusaurus-highlighted-code-line-bg: rgba(249,115,22,0.08);
  /* code token palette (light baseline, reused in dark) */
  --cs-orange-400: #fb923c;  /* links/hover */
  --cs-orange-500: #f97316;  /* strings, attr values */
  --cs-orange-300: #fdba74;  /* functions, class names */
  --cs-amber-400:  #fbbf24;  /* properties/keys */
  --cs-slate-700:  #374151;  /* default light text in code */
}

/* ──────────────────────────────────────────────────────────────
   Dark mode
   ──────────────────────────────────────────────────────────── */
[data-theme='dark'] {
  --ifm-color-primary: #fb923c;           /* orange-400 */
  --ifm-color-primary-dark: #f97316;      /* orange-500 */
  --ifm-color-primary-darker: #ea580c;    /* orange-600 */
  --ifm-color-primary-light: #fdba74;     /* orange-300 */
  --ifm-color-primary-lighter: #fed7aa;   /* orange-200 */
  --ifm-color-primary-lightest: #ffedd5;  /* orange-100 */

  --cs-bg: #0b0e13;       /* <- single solid bg to remove banding */
  --cs-muted: #12151b;
  --cs-card: #0f1218;
  --cs-border: #1f2937;

  --docusaurus-highlighted-code-line-bg: rgba(251,146,60,0.12);
}

/* ──────────────────────────────────────────────────────────────
   Global background fix (removes mid-page banding)
   ──────────────────────────────────────────────────────────── */
html, body {
  background: var(--cs-bg) !important;
}
html[data-theme='dark'] body,
html[data-theme='dark'] .main-wrapper,
html[data-theme='dark'] .navbar,
html[data-theme='dark'] .footer,
html[data-theme='dark'] .container {
  background: var(--cs-bg) !important;
}
/* Ensure doc page surface inherits the same solid bg */
html[data-theme='dark'] .theme-doc-markdown,
html[data-theme='dark'] .theme-doc-markdown > * {
  background: transparent !important;
}

/* ──────────────────────────────────────────────────────────────
   Layout
   ──────────────────────────────────────────────────────────── */
.navbar {
  box-shadow: none;
  border-bottom: 1px solid var(--cs-border);
  backdrop-filter: saturate(120%) blur(6px);
}
.navbar__brand .navbar__title { font-weight: 700; letter-spacing: .2px; }
.navbar__logo { height: 22px; margin-right: .5rem; }

.main-wrapper { padding-top: 0.25rem; }

.footer {
  background: var(--cs-bg);
  border-top: 1px solid var(--cs-border);
}

/* Sidebar */
.theme-doc-sidebar-container { border-right: 1px solid var(--cs-border); }
.menu__link--sublist,
.menu__link { border-radius: 8px; }
.menu__link:hover { background: rgba(251,146,60,.08); }

/* ──────────────────────────────────────────────────────────────
   Typography & links
   ──────────────────────────────────────────────────────────── */
h1, h2, h3 { letter-spacing: .2px; }
a {
  text-underline-offset: 2px;
  text-decoration-color: color-mix(in oklab, var(--ifm-color-primary) 40%, transparent);
  transition: color .15s ease, text-decoration-color .15s ease;
}
a:hover { color: var(--ifm-color-primary); text-decoration-color: currentColor; }

/* ──────────────────────────────────────────────────────────────
   Buttons (improved inactive state contrast)
   ────────────────────────────────────────────────────────────── */
.button { border-radius: 333px; font-weight: 500; transition: all 0.15s ease-in-out; }
.button.button--primary {
  background: var(--ifm-color-primary);
  color: #fff;
  border: 1px solid color-mix(in oklab, var(--ifm-color-primary) 40%, #333);
  box-shadow: 0 6px 18px color-mix(in oklab, var(--ifm-color-primary) 40%, transparent);
}
.button.button--primary:hover { filter: brightness(1.1); transform: translateY(-1px); }
.button:not(.button--primary) {
  background: color-mix(in oklab, #111 85%, var(--ifm-color-primary) 15%);
  color: color-mix(in oklab, var(--ifm-color-primary) 65%, #ddd);
  border: 1px solid color-mix(in oklab, var(--ifm-color-primary) 25%, #222);
}
.button:not(.button--primary):hover {
  background: color-mix(in oklab, var(--ifm-color-primary) 22%, #111);
  color: var(--ifm-color-primary);
  transform: translateY(-1px);
}

/* ──────────────────────────────────────────────────────────────
   Cards, admonitions & tables
   ──────────────────────────────────────────────────────────── */
.card, .theme-admonition {
  border-radius: var(--cs-radius);
  background: var(--cs-card);
  border: 1px solid var(--cs-border);
  box-shadow: var(--cs-shadow);
}
.card__image { border-bottom: 1px solid var(--cs-border); }
table, .table { border-color: var(--cs-border); }
table thead th { border-bottom: 1px solid var(--cs-border); }

/* Mermaid wrapper looks like a card, keeps bg solid */
.mermaid {
  background: var(--cs-card);
  border: 1px solid var(--cs-border);
  border-radius: var(--cs-radius);
  padding: 1rem;
  overflow: auto;
}

/* ──────────────────────────────────────────────────────────────
   Code blocks — orange syntax accents
   ──────────────────────────────────────────────────────────── */
code, pre code { border-radius: 8px; }
.theme-code-block {
  border: 1px solid var(--cs-border);
  border-radius: var(--cs-radius);
}
/* strings/values */
.token.string,
.token.char,
.token.attr-value,
.token.inserted { color: var(--cs-orange-500) !important; }
/* object keys / properties */
.token.property,
.token.attr-name { color: var(--cs-amber-400) !important; }
/* functions / class names */
.token.function,
.token.class-name { color: var(--cs-orange-300) !important; }
/* keywords and selectors */
.token.keyword,
.token.selector,
.token.important { color: var(--cs-orange-400) !important; }
/* numbers/bools */
.token.number,
.token.boolean { color: #f59e0b !important; }
/* readable default code color in dark */
[data-theme='dark'] pre code { color: #e5e7eb; }

/* Links inside code (commented URLs, etc.) */
.theme-code-block a {
  color: var(--cs-orange-400);
  text-decoration-color: color-mix(in oklab, var(--cs-orange-400) 40%, transparent);
}

/* ──────────────────────────────────────────────────────────────
   Utility grids for dynamic lists (diagrams/specs)
   ──────────────────────────────────────────────────────────── */
.cs-grid { display: grid; gap: .75rem; }
@media (min-width: 768px) {
  .cs-grid--cols-2 { grid-template-columns: 1fr 1fr; }
  .cs-grid--cols-3 { grid-template-columns: repeat(3, 1fr); }
}
.cs-item {
  padding: .75rem .9rem;
  border-radius: 10px;
  background: var(--cs-card);
  border: 1px solid var(--cs-border);
}
.cs-item a { display: inline-block; font-weight: 600; }



/* ──────────────────────────────────────────────────────────────
   Footer contrast fix (Light mode)
   Append this block at the very end of src/css/custom.css
   ──────────────────────────────────────────────────────────── */
[data-theme='light'] .footer {
  background: #f8f9fb;               /* subtle light background */
  color: #1f2937;                     /* readable body copy */
  border-top: 1px solid #e5e7eb;      /* faint separator */
}

[data-theme='light'] .footer__title {
  color: #111827;                     /* strong section titles */
}

[data-theme='light'] .footer a,
[data-theme='light'] .footer__link-item {
  color: #1f2937;                     /* readable link color */
  opacity: 1;                         /* undo any low-contrast opacity */
}

[data-theme='light'] .footer a:hover,
[data-theme='light'] .footer__link-item:hover {
  color: #d97706;                     /* coherosphere orange on hover */
  text-decoration: none;
}

[data-theme='light'] .footer__copyright {
  color: #374151;                     /* mid gray for meta line */
  opacity: 1;
}

/* Make sure external-link icons remain visible in light mode */
[data-theme='light'] .footer svg {
  opacity: .85;
}
