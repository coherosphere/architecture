---
title: "DDD Strategic â€” Contract Types Overview (Coherosphere)"
config:
  layout: elk
---
flowchart LR
  %% ===== Styles =====
  classDef core fill:#ff8b00,stroke:#333,color:#fff,font-weight:bold;
  classDef support fill:#fde68a,stroke:#b45309,color:#1f2937;
  classDef generic fill:#e5e7eb,stroke:#9ca3af,color:#111827;
  linkStyle default stroke:#334155,stroke-width:2px;

  %% ===== Core Subdomains =====
  subgraph CORE["Core Subdomains"]
    GOV["Governance & DAO"]:::core
    POC["Proof-of-Contribution"]:::core
    RES["Resonance Service"]:::core
    TRE["Treasury & Funding"]:::core
    ETH["Manifesto & Ethics Guard"]:::core
  end

  %% ===== Supporting =====
  subgraph SUPPORT["Supporting Subdomains"]
    ID["Identity & Reputation (PoCI)"]:::support
    HUB["Local Hub / Federation"]:::support
    MET["Metrics / Analytics"]:::support
    KNOW["Knowledge Graph / Collective Intelligence"]:::support
  end

  %% ===== Generic =====
  subgraph GENERIC["Generic / Infrastructure"]
    API["Public API Gateway"]:::generic
    SEC["Security & Audit"]:::generic
    UI["Resonance Board / UI"]:::generic
  end

  %% ===== Shared Kernel =====
  GOV ---|Shared Kernel: proposalIds & decisionRefs| TRE
  POC ---|Shared Kernel: metric schema & ids| MET
  RES ---|Shared Kernel: SRI formula params| MET

  %% ===== Anti-Corruption Layers (ACL) =====
  ID -. "Anti-Sybil ACL" .-> POC
  ID -. "Anti-Sybil ACL" .-> GOV
  ETH -. "Ethics Filter ACL" .-> POC
  ETH -. "Ethics Filter ACL" .-> RES
  HUB -. "Federation ACL" .-> GOV
  HUB -. "Federation ACL" .-> TRE

  %% ===== Published Language =====
  MET -->|Published Language: KPI events| GOV
  MET -->|Published Language: KPI events| TRE
  GOV -->|Published Language: Decision events| MET
  POC -->|Published Language: Contribution events| MET

  %% ===== Conformist =====
  TRE -->|Conformist: Governance PolicyChanged| GOV
  HUB -->|Conformist: Governance ProjectApproved| GOV
  RES -->|Conformist: Ethics Rubric| ETH

  %% ===== Open Host Service =====
  API -->|Open Host: REST/gRPC/GraphQL| GOV
  API -->|Open Host: REST/gRPC/GraphQL| POC
  API -->|Open Host: REST/gRPC/GraphQL| TRE
  API -->|Open Host: REST/gRPC/GraphQL| ID
  API -->|Open Host: REST/gRPC/GraphQL| MET
  UI -->|Consumes Open Host APIs| API

  %% ===== Legend =====
  subgraph LEGEND["Legend"]
    SK["--- Shared Kernel"]:::core
    ACL["-. Anti-Corruption Layer .->"]:::support
    PUB["--> Published Language"]:::support
    CONF["--> Conformist"]:::generic
    OHS["--> Open Host Service"]:::generic
  end