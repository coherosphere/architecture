flowchart LR
  %% --- Coherosphere CI Theme ---
  classDef container fill:#111827,stroke:#111827,color:#ffffff,font-weight:bold;
  classDef compute fill:#ff8b00,stroke:#333333,color:#ffffff;
  classDef control fill:#fde68a,stroke:#b45309,color:#1f2937;
  classDef worker fill:#fb923c,stroke:#7c2d12,color:#1f2937;
  classDef store fill:#0ea5e9,stroke:#075985,color:#ffffff;
  classDef event fill:#22c55e,stroke:#065f46,color:#083344;
  classDef risk fill:#ef4444,stroke:#7f1d1d,color:#ffffff;
  classDef ext fill:#e5e7eb,stroke:#9ca3af,color:#111827;
  classDef ui fill:#8b5cf6,stroke:#4c1d95,color:#ffffff;
  linkStyle default stroke:#334155,stroke-width:2px;

  %% ===== Container & Components (C2-12 â†’ C3-12.xx) =====
  subgraph UI["C2-12 Resonance Board / UI"]
    class UI container
    REND["C3-12.01 Dashboard Renderer"]:::ui
    STREAM["C3-12.02 Live Stream Client"]:::worker
    WAL["C3-12.03 Identity / Wallet Adapter"]:::control
    WB["C3-12.04 Workbench (Interaction Tools)"]:::compute
    A11Y["C3-12.05 Accessibility & i18n Layer"]:::control
    CACHE["C3-12.06 Local Cache / State Store"]:::store
    NOTIF["C3-12.07 Notification & Alert Manager"]:::event
  end

  %% ===== Internal flows =====
  REND --> STREAM
  WAL --> WB
  A11Y --> REND
  REND --> CACHE
  WB --> CACHE
  STREAM --> CACHE
  CACHE --> NOTIF

  %% ===== External context links =====
  API["C2-11 Public API Gateway"]:::ext --> REND
  MET["C2-07 Metrics / Analytics"]:::ext --> STREAM
  KNOW["C2-09 Knowledge Graph"]:::ext --> WB
  ETH["C2-08 Manifesto & Ethics Guard"]:::ext --> REND
  ID["C2-05 Identity (PoCI)"]:::ext --> WAL
  GOV["C2-03 Governance & DAO"]:::ext --> WB
  POC["C2-02 PoC Service"]:::ext --> WB
  RS["C2-01 Resonance Service"]:::ext --> STREAM
  USER["C1-02 Member / Contributor"]:::ext --> WAL
